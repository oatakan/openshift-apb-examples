##############################################################################
## Deprovision speedtest-mini
## This role executes much of the needed functionality to deprovision an
## application using an Ansible Playbook Bundle and delete resources created
## in the sample apb generated by the provision role.
##############################################################################

- name: remove speedtest-mini route
  openshift_v1_route:
    name: speedtest-mini
    namespace: '{{ namespace }}'
    state: absent

- name: remove speedtest-mini service
  k8s_v1_service:
    name: speedtest-mini
    namespace: '{{ namespace }}'
    state: absent

- name: remove deployment config for speedtest-mini
  openshift_v1_deployment_config:
    name: speedtest-mini
    namespace: '{{ namespace }}'
    state: absent